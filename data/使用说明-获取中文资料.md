# 获取中文资料使用说明

## 功能

从52poke百科（https://wiki.52poke.com/）获取宝可梦相关的中文资料，包括：
- 宝可梦中文名称
- 技能中文名称
- 特性中文名称
- 道具中文名称

## 快速开始

### 1. 测试运行（获取前几个数据）

```bash
# 获取前3个宝可梦的中文名称
node data/fetch-chinese-data.mjs pokedex 0 3

# 获取前5个技能的中文名称
node data/fetch-chinese-data.mjs moves 0 5

# 获取前5个特性的中文名称
node data/fetch-chinese-data.mjs abilities 0 5

# 获取前5个道具的中文名称
node data/fetch-chinese-data.mjs items 0 5
```

### 2. 批量获取

由于数据量较大（宝可梦1492个，技能952个等），建议分批处理：

```bash
# 处理前50个宝可梦
node data/fetch-chinese-data.mjs pokedex 0 50

# 处理第50-99个宝可梦
node data/fetch-chinese-data.mjs pokedex 50 50

# 处理第100-149个宝可梦
node data/fetch-chinese-data.mjs pokedex 100 50

# ... 继续直到处理完所有数据
```

### 3. 获取所有数据

```bash
# 获取所有宝可梦（不指定数量，会处理全部）
node data/fetch-chinese-data.mjs pokedex 0

# 获取所有技能
node data/fetch-chinese-data.mjs moves 0

# 获取所有特性
node data/fetch-chinese-data.mjs abilities 0

# 获取所有道具
node data/fetch-chinese-data.mjs items 0
```

## 输出文件

脚本会在 `data/chinese/` 目录下生成以下JSON文件：

- `pokedex.json` - 宝可梦中文名称映射
- `moves.json` - 技能中文名称映射
- `abilities.json` - 特性中文名称映射
- `items.json` - 道具中文名称映射

## 数据格式

每个JSON文件的格式如下：

```json
{
  "bulbasaur": "妙蛙种子",
  "ivysaur": "妙蛙草",
  "venusaur": "妙蛙花",
  "charmander": "小火龙",
  ...
}
```

- **键（key）**：英文ID（与Showdown数据文件中的key一致）
- **值（value）**：中文名称（来自52poke百科）

## 特性

1. **增量更新**：脚本支持增量更新，已存在的数据不会被重复获取
2. **断点续传**：如果中途中断，可以从中断的位置继续处理
3. **自动保存**：每处理10个数据自动保存一次，防止数据丢失
4. **数据验证**：脚本会验证获取的中文名称是否正确

## 使用示例

### 完整获取所有宝可梦中文名称

```bash
# 第1批：前100个
node data/fetch-chinese-data.mjs pokedex 0 100

# 第2批：第100-199个
node data/fetch-chinese-data.mjs pokedex 100 100

# 第3批：第200-299个
node data/fetch-chinese-data.mjs pokedex 200 100

# ... 继续直到处理完所有1492个宝可梦
```

### 在代码中使用中文数据

```javascript
// 加载中文数据
import pokedexChinese from './data/chinese/pokedex.json';
import movesChinese from './data/chinese/moves.json';
import abilitiesChinese from './data/chinese/abilities.json';
import itemsChinese from './data/chinese/items.json';

// 获取宝可梦的中文名称
const pokemonName = pokedexChinese['bulbasaur']; // "妙蛙种子"

// 获取技能的中文名称
const moveName = movesChinese['tackle']; // "撞击"

// 获取特性的中文名称
const abilityName = abilitiesChinese['overgrow']; // "茂盛"

// 获取道具的中文名称
const itemName = itemsChinese['potion']; // "伤药"
```

## 注意事项

1. **API请求限制**：
   - 脚本会在每次请求之间延迟800ms，避免请求过快
   - 如果遇到请求失败，可能需要增加延迟时间

2. **处理时间**：
   - 获取所有数据需要较长时间（宝可梦1492个 × 2秒 ≈ 50分钟）
   - 建议分批处理，每次处理50-100个

3. **网络连接**：
   - 需要稳定的网络连接
   - 如果网络不稳定，可以多次运行脚本，已处理的数据会被跳过

4. **数据准确性**：
   - 脚本会验证获取的中文名称
   - 如果某些名称无法找到，可能需要手动检查52poke百科

## 故障排除

### 问题1：某些名称无法找到

**原因**：52poke百科中可能没有对应的页面，或名称不匹配

**解决方法**：
1. 手动检查52poke百科
2. 手动添加到JSON文件中

### 问题2：API请求失败

**原因**：网络问题或请求频率过高

**解决方法**：
1. 检查网络连接
2. 增加脚本中的 `REQUEST_DELAY` 值
3. 减少每次处理的数量

### 问题3：数据不完整

**原因**：处理过程中断

**解决方法**：
1. 重新运行脚本，已存在的数据会被跳过
2. 从上次中断的位置继续处理

## 数据统计

当前数据量：
- 宝可梦：1492个
- 技能：952个
- 特性：271个
- 道具：271个

## 更新数据

如果需要更新数据：

1. 删除 `data/chinese/` 目录下的JSON文件
2. 重新运行脚本
3. 或者使用增量更新（脚本会自动跳过已存在的数据）

## 许可证

此脚本仅用于获取公开的中文资料，请遵守52poke百科的使用条款。

